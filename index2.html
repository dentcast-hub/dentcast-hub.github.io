<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <title>๐๏ธ ุฏูุชโฺฉุณุช โ ูพุงุฏฺฉุณุช ุนูู ุฏูุฏุงูโูพุฒุดฺฉ ุจุง ุฑูุงุช ุฏฺฉุชุฑ ููุงุฏ ุดูุงุจุงู</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta name="description" content="ูพุงุฏฺฉุณุช ุนูู ุฏูุฏุงูโูพุฒุดฺฉ ุจุง ุฑูุงุช ุฏฺฉุชุฑ ููุงุฏ ุดูุงุจุงูุ ูุฑูุฑ ุณุงุฏู ู ุชุญูู ุชุงุฒูโุชุฑู ููุงูุงุช ุญูุฒูู ูพุฑูุชุฒุ ุงููพููุช ู ุฏูุฏุงูโูพุฒุดฺฉ ุชุฑูู.">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600;800&display=swap">
  <style>
    /* ๐ ุงุณุชุงู ุฌุฏุฏ ุจุฑุง Sticky Footer */
    #content-wrap { flex-grow: 1; }
      
    /* ---------- ุงุณุชุงู ุฌุณุชุฌู ุณุฑุงุณุฑ ---------- */
    .dc-result-item { display: block; padding: 10px 12px; border-bottom: 1px solid #e5e7eb; color: #0b1d40; text-decoration: none; font-size: 14px; }
    .dc-result-item:hover { background: #eef3ff; }
    .dc-global-filter-box { background: #ffffff; border-radius: 22px; padding: 22px; margin: 20px 0 32px; border: 1px solid #e2e6f3; box-shadow: 0 8px 24px rgba(11, 95, 255, 0.05); max-height: 0; opacity: 0; visibility: hidden; overflow: hidden; transition: all 0.3s ease-in-out; }
    .dc-global-filter-box.open { max-height: 85vh !important; opacity: 1; visibility: visible; overflow-y: auto; }
    .dc-global-filter-title { font-weight: 700; font-size: 20px; color: #0b5fff; text-align: center; margin-bottom: 14px; }
    .dc-search-input { width: 100%; padding: 11px 14px; border-radius: 14px; border: 1px solid #d5d9ea; background: #f7f8fc; font-size: 14px; outline: none; margin-bottom: 16px; box-sizing: border-box; }
    .dc-filter-list { display: flex; flex-wrap: wrap; margin-top: 10px; gap: 8px; justify-content: center; }
    .dc-filter-btn { padding: 7px 16px; border-radius: 999px; border: 1px solid #d3daf1; background: #eef3ff; color: #0b1d40; font-size: 13px; cursor: pointer; transition: 0.2s ease; white-space: nowrap; }
    .dc-filter-btn.active { background: #0b5fff; color: #ffffff; border-color: #0b5fff; box-shadow: 0 4px 14px rgba(11, 95, 255, 0.3); }
    .dc-results-box { margin-top: 18px; padding: 14px 16px; border-radius: 16px; background: #f7f9ff; border: 1px solid #e2e6f3; display: none; max-height: 60vh; overflow-y: auto; }

    /* ---------- ูพุงูุช ู ุชู ุชูฺฏุฑุงู ---------- */
    :root {
      --primary: #0b5fff; --bg: #FAFAFA; --card-bg: #FCFCFE; --card-border: #D0D5DD;
      --text-main: #0a1a33; --text-sub: #475569; --header-bg: #FDFCF8;
      --tab-bg: #e5e7eb; --tab-text: #64748b; --tab-bg-active: #0b5fff; --tab-text-active: #ffffff;
      --badge-color: #ea580c; --text-muted: #64748b;
    }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: "Vazirmatn", sans-serif; background: var(--bg); color: var(--text-main); min-height: 100vh; display: flex; flex-direction: column; }

    /* ------------------------- ุชุจโูุง ------------------------- */
    .dc-tabs-wrapper { background: var(--header-bg); padding: 0.8rem 0.5rem 0.6rem; box-shadow: 0 4px 12px rgba(15,23,42,0.08); position: sticky; top: 0; z-index: 10; }
    .dc-tabs { display: flex; gap: 0.5rem; overflow-x: auto; padding-inline: 0.25rem; scrollbar-width: none; }
    .dc-tab { flex: 0 0 auto; padding: 0.25rem 0.9rem; border-radius: 999px; border: 1px solid #d4d4d8; background: var(--tab-bg); color: var(--tab-text); font-size: 0.8rem; display: inline-flex; gap: 0.35rem; cursor: pointer; transition: all 0.18s ease-out; }
    .dc-tab.active { background: var(--tab-bg-active); color: var(--tab-text-active); border-color: var(--tab-bg-active); }
    .dc-tab-count { padding: 0.05rem 0.5rem; border-radius: 999px; background: rgba(15,23,42,0.06); font-size: 0.75rem; }

    /* ------------------------- ูพูู ู ฺฉุงุฑุชโูุง ------------------------- */
    .dc-main { padding: 0.75rem 0.75rem 1.5rem; max-width: 640px; margin: 0 auto; }
    .dc-panel { display: none; }
    .dc-panel.active { display: block; animation: fadeIn 0.3s ease; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

    .dc-section-title { font-size: .99rem; font-weight: 800; margin: .6rem 0 .25rem; }
    .dc-section-sub { font-size: .78rem; color: var(--text-sub); margin-bottom: .75rem; }
    .dc-card-list { display: flex; flex-direction: column; gap: .4rem; }

    .dc-card {
      background: var(--card-bg); border-radius: .9rem; border: 1px solid var(--card-border);
      box-shadow: 0 2px 6px rgba(0,0,0,0.06); padding: .3rem .33rem;
      display: flex; justify-content: space-between; align-items: center;
      cursor: pointer; transition: 0.18s; position: relative;
    }
    .dc-card:active { transform: scale(0.98); background: #f0f4ff; } /* ุงูฺฉุช ฺฉูฺฉ */
    
    .dc-card.active-toggle { border-color: var(--primary); box-shadow: 0 4px 10px rgba(11, 95, 255, 0.15); background: #f7f9ff; }
    .dc-card.featured-card { background: #eef3ff!important; border: none !important; border-radius: 1.05rem !important; box-shadow: 0 4px 14px -1px rgba(11, 95, 255, 0.22) !important; }

    .dc-card-title { font-size: .86rem; font-weight: 700; }
    .dc-card-caption { font-size: .75rem; color: var(--text-sub); }
    .dc-chip { font-size: .7rem; padding: .15rem .5rem; border-radius: 999px; background: rgba(11,95,255,0.06); color: #1d4ed8; border: 1px solid rgba(59,130,246,0.35); }
    .bottom-fade { width: 100%; height: 0 !important; background: linear-gradient(to bottom, transparent, #f3f5f7); }
    .new-badge::after { content: "ุฌุฏุฏ"; position: absolute; top: 8px; left: 8px; background-color: var(--badge-color); color: white; font-size: 0.65rem; padding: 2px 6px; border-radius: 6px; font-weight: bold; }

    /* --- ุฎุจุฑูุงูู --- */
    .newsletter-wrapper { max-height: 0; overflow: hidden; opacity: 0; visibility: hidden; transition: all 0.3s ease-in-out; }
    .newsletter-wrapper.open { max-height: 1000px; opacity: 1; visibility: visible; }
    .newsletter-box { background: #f0f9ff; border: 1px solid #bae6fd; border-radius: 16px; padding: 24px 20px; text-align: center; margin-top: 40px; margin-bottom: 60px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.04); }
    .newsletter-title { color: #0f172a; font-weight: 800; margin-bottom: 8px; font-size: 1.1rem; }
    .newsletter-text { color: #475569; font-size: 0.85rem; margin-bottom: 20px; line-height: 1.6; }
    .newsletter-form-group { display: flex; align-items: center; justify-content: center; gap: 15px; width: 100%; }
    .newsletter-input { flex-grow: 1; height: 50px; padding: 0 15px; border-radius: 12px; border: 1px solid #cbd5e1; outline: none; }
    .newsletter-btn { height: 50px; padding: 0 28px; border-radius: 12px; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: #ffffff; border: none; font-weight: 800; cursor: pointer; }

    /* --- ููุชุฑ --- */
    footer { margin-top: auto; color: var(--text-muted); font-size: .85rem; text-align: center; line-height: 1.7; padding-bottom: 30px; margin-bottom: 0; }

    /* ฺฉุงุฑุช ุชุจูุบุงุช */
    .dc-card.ad-card { background: #f7faff !important; border: 1px solid #d4e2ff !important; border-radius: 1rem; padding: 4px 0 !important; margin-top: 36px !important; width: 100%; }
    .ad-card .ad-link { display: flex; align-items: center; justify-content: space-between; gap: 10px; padding: 12px 12px; width: 100%; text-decoration: none; color: #3a5fbf; }
    .ad-strong { background: #e8effd; color: #3a5fbf; padding: 1px 6px; border-radius: 8px; font-size: 0.70rem; min-width: 48px; text-align: center; }

    /* ================= HERO HEADER ================= */
    .hero-header { position: relative; width: 100%; height: 260px; background-image: url("/header.webp"); background-size: cover; background-position: center; background-repeat: no-repeat; }
    .hero-cta { position: absolute; bottom: 20px; right: 20px; padding: 8px 18px; border-radius: 999px; background: rgba(255, 255, 255, 0.85); color: #0a1a33; font-size: 0.75rem; font-weight: 600; text-decoration: none; backdrop-filter: blur(6px); transition: all 0.2s ease; }
 .dc-results-box {
  position: relative;
}

.dc-close-results {
  position: absolute;
  top: 10px;
  left: 10px;

  width: 28px;
  height: 28px;

  border: none;
  border-radius: 50%;

  background: #fee2e2;
  color: #b91c1c;

  font-size: 18px;
  font-weight: 700;
  line-height: 1;

  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: all 0.15s ease;
}

.dc-close-results:hover {
  background: #fecaca;
}

.dc-close-results:active {
  transform: scale(0.92);
}
/* ููุท ุจุฑุง ุงููู ู ุงุจุฒุงุฑ ุณุงุช */
#panel-site .dc-card-list > .dc-card {
  margin-bottom: 0.5rem;
}

  </style>
</head>
<body>
<div id="content-wrap">
  <header class="hero-header">
    <a href="about.html" class="hero-cta">
      ุฒุฑ ูุธุฑ ุฏฺฉุชุฑ ููุงุฏ ุดูุงุจุงู
    </a>
  </header>

  <div class="dc-tabs-wrapper">
    <div class="dc-tabs" id="dcTabs">
      <div class="dc-tab active" data-target="panel-studio">
        <span>ุฏูุชโฺฉุณุช ุงุณุชูุฏู</span><span class="dc-tab-count">ถ</span>
      </div>
      <div class="dc-tab" data-target="panel-sharehub">
        <span>Share Hub</span><span class="dc-tab-count">ฒ</span>
      </div>
      <div class="dc-tab" data-target="panel-patient">
        <span>ุจุฑุง ุบุฑ ุฏูุฏุงูโูพุฒุดฺฉุงู</span><span class="dc-tab-count">ฒ</span>
      </div>
      <div class="dc-tab" data-target="panel-site">
        <span>ุงููู ู ุงุจุฒุงุฑ ุณุงุช</span><span class="dc-tab-count">ต</span>
      </div>
    </div>
  </div>

  <main class="dc-main">
    <section class="dc-panel active" id="panel-studio">
      <h3 class="dc-section-title">ุฏูุชโฺฉุณุช ุจุฑุง ุฏูุฏุงููพุฒุดฺฉุงู</h3>
      <p class="dc-section-sub" style="visibility:hidden;">โ</p>
      <div class="dc-card-list">
        
        <article class="dc-card featured-card" id="card-episodes" onclick="window.location.href='episodes.html'">
          <div class="dc-card-main">
            <div class="dc-card-title">ููุฑุณุช ู ุดูุฏู ุงูพุฒูุฏูุง ุฏูุชโฺฉุณุช ๐ง</div>
            <div class="dc-card-caption">ููู  ุงูพุฒูุฏูุง ุงุตู ู ูุฑุน</div>
          </div>
          <span class="dc-chip">DentCast</span>
        </article>

        <article class="dc-card" id="btn-photocast" onclick="window.location.href='https://dentcast.ir/photocast/'">
          <div class="dc-card-main">
            <div class="dc-card-title">Photocast </div>
            <div class="dc-card-caption">ุขููุฒุด ุจุง ุชุตูุฑ</div>
          </div>
          <span class="dc-chip">PhotoCast</span>
        </article>

        <article class="dc-card" id="btn-notecast" onclick="window.location.href='https://dentcast.ir/notecast/'">
          <div class="dc-card-main">
            <div class="dc-card-title"> NoteCastูุง</div>
            <div class="dc-card-caption">(ุฎูุงุตูโููุณ ุงูพุฒูุฏูุง )</div>
          </div>
          <span class="dc-chip">NoteCast</span>
        </article>

        <article class="dc-card" id="btn-clinical" onclick="window.location.href='https://dentcast.ir/insight/'">
          <div class="dc-card-main">
            <div class="dc-card-title">Clinical Insight  </div>
            <div class="dc-card-caption"> ุชุฌุฑุจุงุช ฺฉููฺฉ</div>
          </div>
          <span class="dc-chip">Insight</span>
        </article>

        <article class="dc-card" id="btn-dentai" onclick="window.location.href='https://dentcast.ir/dentai/'">
          <div class="dc-card-main">
            <div class="dc-card-title">DentAI </div>
            <div class="dc-card-caption">ูุฑูุฑ ููุงูุงุช ุจุง ููุด ูุตููุน</div>
          </div>
          <span class="dc-chip">DentAI</span>
        </article>

        <article class="dc-card" id="btn-plus" onclick="window.location.href='https://dentcast.ir/dentcast-plus/'">
          <div class="dc-card-main">
            <div class="dc-card-title">DentCast+ </div>
            <div class="dc-card-caption"> ุขููุฒุด ุจุง ูุฏู</div>
          </div>
          <span class="dc-chip">DentCast+</span>
        </article>

        <article class="dc-card ad-card" id="card-ad-orange">
          <a href="https://godza.ir/product/orangedental-loupes/" class="ad-link" target="_blank" rel="sponsored noopener">
            <div class="dc-card-main">
              <div class="dc-card-title">ุฎุฑุฏ ูููพ Orange Dentalุงุฒ ุดุฑฺฉุช ฺฏุงุฏุฒุง  ๐ฏ</div>
            </div>
            <strong class="ad-strong">ฺฉูฺฉ ฺฉูุฏ</strong>
          </a>
        </article>
      </div>
    </section>

    <section class="dc-panel" id="panel-sharehub">
      <h3 class="dc-section-title">ุจุฎุด ุชฺฉูู</h3>
      <p class="dc-section-sub" style="visibility:hidden;">โ</p>
      <div class="dc-card-list">
        <article class="dc-card" id="btn-metanote" onclick="window.location.href='https://dentcast.ir/metanotes/'">
          <div class="dc-card-main">
            <div class="dc-card-title">Meta Note</div>
            <div class="dc-card-caption"> ุงุฏูโูุง ู ูุฏูโูุง ุชุญูู ุฎุงุฑุฌ ุงุฒ ฺุงุฑฺูุจ </div>
          </div>
          <span class="dc-chip">Meta</span>
        </article>

        <article class="dc-card" id="btn-glossary" onclick="window.location.href='https://dentcast.ir/glossary/'">
          <div class="dc-card-main">
            <div class="dc-card-title">ุฏุงูุดูุงูู ุฏูุชโฺฉุณุช</div>
            <div class="dc-card-caption">ููุงูู ุชุตููโุณุงุฒ ุฏูุฏุงูโูพุฒุดฺฉ (AโZ)</div>
          </div>
          <span class="dc-chip">Glossary</span>
        </article>
      </div>
    </section>

    <section class="dc-panel" id="panel-patient">
      <h3 class="dc-section-title"> ูุฎุตูุต ูุฎุงุทุจุงู ุบุฑ ุฏูุฏุงููพุฒุดฺฉ </h3>
      <p class="dc-section-sub" style="visibility:hidden;">โ</p>
      <div class="dc-card-list">
        <article class="dc-card" id="card-litecast" onclick="window.location.href='https://dentcast.ir/litecast/'">
          <div class="dc-card-main">
            <div class="dc-card-title">โจ LiteCast โ ุฏูุฏุงูโูพุฒุดฺฉ ุจุฑุง ููู</div>
            <div class="dc-card-caption">ูุญุชูุง ุณุงุฏู ู ุบุฑ ุชุฎุตุต ุจุฑุง ุจูุงุฑุงู</div>
          </div>
          <span class="dc-chip">LiteCast</span>
        </article>

       <article class="dc-card" id="card-consult-patient">
  <div class="dc-card-main">
    <div class="dc-card-title">ูุดุงูุฑู ู ูุฒุช ุขููุงู ๐</div>
    <div class="dc-card-caption">ุฏุฑุฎูุงุณุช ูุดุงูุฑู</div>
  </div>
  <span class="dc-chip">Consult</span>
</article>

<script>
const consultPatient = document.getElementById("card-consult-patient");
if (consultPatient) {
  consultPatient.addEventListener("click", () => {
    window.location.href = "mailto:info@dentcast.ir";
  });
}
</script>

      </div>
    </section>

    <section class="dc-panel" id="panel-site">
      <h3 class="dc-section-title"> ุงุทูุงุนุงุช ู ุงุจุฒุงุฑูุง </h3>
      <p class="dc-section-sub" style="visibility:hidden;">โ</p>
      <div class="dc-card-list">
       <article class="dc-card" id="card-pwa" style="border-color:#0b5fff30; background:#f5f8ff;">
  <div class="dc-card-main">
    <div class="dc-card-title">ูุตุจ ูุณุฎูู ุณุฑุน ุฏูุชโฺฉุณุช ๐ฑ</div>
    <div class="dc-card-caption">ุขููุงูุ ุณุฑุนุ ุจุง ุขฺฉูู ุงุฎุชุตุงุต</div>
  </div>
  <span class="dc-chip" style="background:#0b5fff12; border-color:#0b5fff40; color:#0b5fff;">
    PWA
  </span>
</article>

          </div>

        <article class="dc-card" id="card-search" data-toggle-target="dcGlobalBox">
          <div class="dc-card-main">
            <div class="dc-card-title">ุฌุณุชุฌู ุณุฑุงุณุฑ ุฏูุชโฺฉุณุช ๐</div>
            <div class="dc-card-caption">ุณุฑฺ ุฏุฑ ุชูุงู ุงูพุฒูุฏูุง ู ุชูุงู ูุญุชูุง ุนูู ุฌุฏุฏ</div>
          </div>
          <span class="dc-chip">Search</span>
        </article>

        <article class="dc-card" id="card-newsletter" data-toggle-target="mlb2-33724259">
          <div class="dc-card-main">
            <div class="dc-card-title">ุฎุจุฑูุงููู ุฏูุชโฺฉุณุช ๐ฌ</div>
            <div class="dc-card-caption">ุงุทูุงุน ุณุฑุน ุงุฒ ุงูพุฒูุฏูุง ุฌุฏุฏ</div>
          </div>
          <span class="dc-chip">Newsletter</span>
        </article>

       <article class="dc-card" id="card-consult-info">
  <div class="dc-card-main">
    <div class="dc-card-title">ุงุฑุชุจุงุท ู ูุดุงูุฑู ุจุง ุฏฺฉุชุฑ ุดูุงุจุงู ๐</div>
    <div class="dc-card-caption">ุฏุฑุฎูุงุณุช ูุดุงูุฑู</div>
  </div>
  <span class="dc-chip">Consult</span>
</article>

        <article class="dc-card" id="card-about-info" onclick="window.location.href='about.html'">
          <div class="dc-card-main">
            <div class="dc-card-title">ุฏุฑุจุงุฑูู ุฏูุชโฺฉุณุช โจ</div>
            <div class="dc-card-caption">ูุนุฑู ูุณุฑ ู ุงูุฏุงู ุฏูุชโฺฉุณุช</div>
          </div>
          <span class="dc-chip">About</span>
        </article>
      </div>

      <div class="dc-global-filter-box" id="dcGlobalBox">
        <h3 class="dc-global-filter-title">ุฌุณุชุฌู ุณุฑุงุณุฑ ุฏูุชโฺฉุณุช</h3> 
        <input id="dcSearch" class="dc-search-input" placeholder="ุฌุณุชุฌู ุฏุฑ ูููู ุจุฎุดโูุง ุฏูุชโฺฉุณุชโฆ">
        <div class="dc-filter-list">
    <button class="dc-filter-btn active" data-type="dentcast">ุฏูุชโฺฉุณุช</button>
    <button class="dc-filter-btn active" data-type="notecast">ููุชโฺฉุณุช</button>
    <button class="dc-filter-btn active" data-type="clinical">ูฺฉุงุช ฺฉููฺฉ</button>
    <button class="dc-filter-btn active" data-type="litecast">ูุงุชโฺฉุณุช</button>
    <button class="dc-filter-btn active" data-type="photocast">ููุชูฺฉุณุช</button>
    <button class="dc-filter-btn active" data-type="dentcast_plus">ูุฏููุง</button>
    <button class="dc-filter-btn active" data-type="dentai">ููุงูุงุช</button>
</div>

      <div class="dc-results-box" id="dcResults">
  <button class="dc-close-results" aria-label="ุจุณุชู">ร</button>
</div>

      </div>

      <div id="mlb2-33724259" class="newsletter-wrapper ml-subscribe-form ml-subscribe-form-33724259">
        <div class="newsletter-box">
          <div class="row-form">
            <div class="newsletter-title">๐ฌ ุฎุจุฑูุงููโ ุฏูุชโฺฉุณุช</div>
            <div class="newsletter-text">ุงุทูุงุนโุฑุณุงู ุงูพุฒูุฏูุง ู ูุทุงูุจ ุฌุฏุฏ (ุจุฏูู ุงุณูพู)</div>
            <form class="ml-block-form" action="https://assets.mailerlite.com/jsonp/1939653/forms/171891141676893488/subscribe" method="post" target="_blank">
              <div class="newsletter-form-group">
                <input type="email" class="newsletter-input" name="fields[email]" placeholder="ุงูู ุดูุง..." required>
                <button type="submit" class="newsletter-btn">ุนุถูุช</button>
              </div>
              <input type="hidden" name="ml-submit" value="1">
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>
</div>

<footer>
  ุงููุงุฒ โ ฺฉุงููพุงุฑุณุ ูุทุจ ุฏฺฉุชุฑ ููุงุฏ ุดูุงุจุงู<br>
  ุชููู: 33380090-061 &nbsp; | &nbsp; DentCast ยฉ 1404
</footer>
<script>
/* ------------------------------------------------------
   Tabs + Center Scroll
------------------------------------------------------ */
const tabContainer = document.querySelector('.dc-tabs');
const tabs = Array.from(document.querySelectorAll('.dc-tab'));
const panels = document.querySelectorAll('.dc-panel');

function activeIndex() {
  return tabs.findIndex(t => t.classList.contains('active'));
}

function activateTab(index) {
  if (index < 0 || index >= tabs.length) return;

  tabs.forEach(t => t.classList.remove('active'));
  panels.forEach(p => p.classList.remove('active'));

  const tab = tabs[index];
  tab.classList.add('active');

  const target = document.getElementById(tab.dataset.target);
  if (target) target.classList.add('active');

  const offset =
    tab.offsetLeft -
    tabContainer.clientWidth / 2 +
    tab.clientWidth / 2;

  tabContainer.scrollTo({ left: offset, behavior: "smooth" });
}

tabs.forEach((tab, i) =>
  tab.addEventListener('click', () => activateTab(i))
);
</script>

<script>
/* ------------------------------------------------------
   Swipe with Inertia
------------------------------------------------------ */
let startX = 0, startY = 0, startTime = 0, isHorizontal = false;

document.body.addEventListener("touchstart", e => {
  const t = e.touches[0];
  startX = t.clientX;
  startY = t.clientY;
  startTime = Date.now();
  isHorizontal = false;
}, { passive: true });

document.body.addEventListener("touchmove", e => {
  const t = e.touches[0];
  const dx = t.clientX - startX;
  const dy = t.clientY - startY;

  if (Math.abs(dx) > Math.abs(dy) * 1.05 && Math.abs(dx) > 5) {
    isHorizontal = true;
    e.preventDefault();
  }
}, { passive: false });

document.body.addEventListener("touchend", e => {
  if (!isHorizontal) return;

  const dx = e.changedTouches[0].clientX - startX;
  const dt = Date.now() - startTime;
  const speed = Math.abs(dx) / dt;

  if (Math.abs(dx) > 30 || speed > 0.25) {
    dx < 0
      ? activateTab(activeIndex() - 1)
      : activateTab(activeIndex() + 1);
  }
}, { passive: true });
</script>

<script>
/* ==================================================
   Toggle Search & Newsletter (Safe / Exclusive)
================================================== */
const toggleCards = document.querySelectorAll('[data-toggle-target]');
const globalBox = document.getElementById('dcGlobalBox');
const resultsBox = document.getElementById('dcResults');

toggleCards.forEach(card => {
  card.addEventListener('click', e => {
    e.preventDefault();

    const targetId = card.dataset.toggleTarget;
    const target = document.getElementById(targetId);
    if (!target) return;

    const isOpen = target.classList.contains('open');

    // close everything first
    toggleCards.forEach(c => c.classList.remove('active-toggle'));
    document
      .querySelectorAll('.dc-global-filter-box, .newsletter-wrapper')
      .forEach(el => el.classList.remove('open'));

    if (!isOpen) {
      target.classList.add('open');
      card.classList.add('active-toggle');

      setTimeout(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }, 250);
    } else if (targetId === 'dcGlobalBox' && resultsBox) {
      resultsBox.style.display = 'none';
    }
  });
});
</script>

<script>
/* ------------------------------------------------------
   Close Search Results (ร)
------------------------------------------------------ */
document.addEventListener('click', e => {
  if (e.target.classList.contains('dc-close-results')) {
    const searchCard = document.getElementById('card-search');
    if (globalBox) globalBox.classList.remove('open');
    if (searchCard) searchCard.classList.remove('active-toggle');
    if (resultsBox) resultsBox.style.display = 'none';
  }
}, true);
</script>

<script>
/* ------------------------------------------------------
   Contact Cards (mailto) โ FIXED
------------------------------------------------------ */
[
  "card-consult-patient",
  "card-consult-info",
  "card-contact-info"
].forEach(id => {
  const el = document.getElementById(id);
  if (el) {
    el.addEventListener("click", () => {
      window.location.href = "mailto:info@dentcast.ir";
    });
  }
});
</script>

<script>
/* ==================================================
   PWA Install
================================================== */
let deferredPrompt = null;

window.addEventListener("beforeinstallprompt", e => {
  e.preventDefault();
  deferredPrompt = e;
});

const isiOS = /iphone|ipad|ipod/i.test(navigator.userAgent);
const pwaCard = document.getElementById("card-pwa");

if (pwaCard) {
  pwaCard.addEventListener("click", async () => {
    if (isiOS) {
      alert("ุจุฑุง ูุตุจ ุฏุฑ ุขููู: Share โ Add to Home Screen");
      return;
    }
    if (!deferredPrompt) {
      alert("ุฏุฑ ุญุงู ุญุงุถุฑ ุงูฺฉุงู ูุตุจ ุฎูุฏฺฉุงุฑ ูุฌูุฏ ูุฏุงุฑุฏ.");
      return;
    }
    deferredPrompt.prompt();
    await deferredPrompt.userChoice;
    deferredPrompt = null;
  });
}
</script>

<script src="/global-search.js?v=2"></script>
</body>
</html>
